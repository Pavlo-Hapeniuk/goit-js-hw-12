import{a as h,i,S as b}from"./assets/vendor-BkVuWn-o.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function s(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(e){if(e.ep)return;e.ep=!0;const r=s(e);fetch(e.href,r)}})();async function u(t,o){const s="53374689-de9604de74fdd47daed383deb";try{const a=await h.get("https://pixabay.com/api/",{params:{key:s,q:t,image_type:"photo",orientation:"horizontal",safesearch:!0,page:o,per_page:15}});return!a.data.hits||a.data.hits.length===0?(i.info({message:"Sorry, there are no images matching your search query. Please try again!",backgroundColor:"#ef4040",position:"topRight",timeout:3e3}),[]):a.data.hits}catch{return i.error({message:"Something went wrong. Please try again later.",backgroundColor:"#ef4040",position:"topRight",timeout:4e3}),[]}}const w=new b(".gallery-link",{captionsData:"alt",captionPosition:"bottom",captionDelay:500}),g=document.querySelector(".gallery"),c=document.querySelector(".loader");function L({webformatURL:t,largeImageURL:o,tags:s,likes:a,views:e,comments:r,downloads:n}){return`     
      <li class="gallery-card">
        <a href="${o}" class="gallery-link">
          <img src="${t}" alt="${s}" loading="lazy" class="gallery-image" />
        </a>
        <div class="gallery-stats">
          <p><strong>Likes</strong> <span class="likes">${a}</span></p>
          <p><strong>Views</strong> <span class="views">${e}</span></p>
          <p><strong>Comments</strong> <span class="comments">${r}</span></p>
          <p><strong>Downloads</strong> <span class="downloads">${n}</span></p>
        </div>
      </li>`}function p(t){return t.map(L).join("")}function f(t,o=!1){o?g.innerHTML=p(t):g.insertAdjacentHTML("beforeend",p(t)),w.refresh()}function P(){g.innerHTML=""}function m(){c&&(c.style.display="block")}function y(){c&&(c.style.display="none")}const S=document.querySelector(".form"),v=document.querySelector(".js-btn-load");let l,d;S.addEventListener("submit",async t=>{if(t.preventDefault(),l=new FormData(t.target).get("search-text").trim(),d=1,!l){i.warning({message:"Please, enter something!",backgroundColor:"#ef4040",position:"topRight"});return}P(),m();try{const s=await u(l,d);await f(s,!0)}catch{i.error({message:"Error! Please try again!",backgroundColor:"#ef4040",position:"topRight"})}finally{y()}t.target.reset()});v.addEventListener("click",async()=>{d+=1,m();try{const t=await u(l,d);await f(t,!1)}catch{i.error({message:"Error! Please try again!",backgroundColor:"#ef4040",position:"topRight"})}finally{y()}});
//# sourceMappingURL=index.js.map
