{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function getImagesByQuery(query) {\n  const API_KEY = '53374689-de9604de74fdd47daed383deb';\n\n  return axios\n    .get('https://pixabay.com/api/', {\n      params: {\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      },\n    })\n    .then(res => {\n      if (!res.data.hits || res.data.hits.length === 0) {\n        iziToast.info({\n          message: `Sorry, there are no images matching your search query. Please try again!`,\n          backgroundColor: '#ef4040',\n          position: 'topRight',\n          timeout: 3000,\n        });\n        return [];\n      } else {\n        return res.data.hits;\n      }\n    })\n    .catch(error => {\n      console.error(error);\n      iziToast.error({\n        message: `Something went wrong. Please try again later.`,\n        backgroundColor: '#ef4040',\n        position: 'topRight',\n        timeout: 4000,\n      });\n      return [];\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst simplelightbox = new SimpleLightbox('.gallery-link', {\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 500,\n});\n\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nfunction cardTemplate({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `     \n      <li class=\"gallery-card\">\n        <a href=\"${largeImageURL}\" class=\"gallery-link\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-image\" />\n        </a>\n        <div class=\"gallery-stats\">\n          <p><strong>Likes</strong> <span class=\"likes\">${likes}</span></p>\n          <p><strong>Views</strong> <span class=\"views\">${views}</span></p>\n          <p><strong>Comments</strong> <span class=\"comments\">${comments}</span></p>\n          <p><strong>Downloads</strong> <span class=\"downloads\">${downloads}</span></p>\n        </div>\n      </li>`;\n}\n\nfunction cardsTemplate(cards) {\n  return cards.map(cardTemplate).join('');\n}\n\nexport function createGallery(cards) {\n  gallery.innerHTML = cardsTemplate(cards);\n  simplelightbox.refresh();\n}\n\nexport function clearGallery() {\n  gallery.innerHTML = '';\n}\n\nexport function showLoader() {\n  if (loader) loader.style.display = 'block';\n}\n\nexport function hideLoader() {\n  if (loader) loader.style.display = 'none';\n}\n","import axios from 'axios';\n\nimport { getImagesByQuery } from './js/pixabay-api';\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions';\nimport iziToast from 'izitoast';\n\nconst formElem = document.querySelector('.form');\n\nformElem.addEventListener('submit', e => {\n  e.preventDefault();\n  const searchText = e.target.elements['search-text'].value.trim();\n  if (!searchText) {\n    iziToast.warning({\n      message: `Please, enter something!`,\n      backgroundColor: '#ef4040',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  getImagesByQuery(searchText)\n    .then(hits => {\n      createGallery(hits);\n    })\n    .catch(error => {\n      console.error(error);\n      iziToast.error({\n        message: `Error! Please try again!`,\n        backgroundColor: '#ef4040',\n        position: 'topRight',\n      });\n    })\n    .finally(() => {\n      hideLoader();\n    });\n\n  e.target.reset();\n});\n"],"names":["getImagesByQuery","query","axios","res","iziToast","error","simplelightbox","SimpleLightbox","gallery","loader","cardTemplate","webformatURL","largeImageURL","tags","likes","views","comments","downloads","cardsTemplate","cards","createGallery","clearGallery","showLoader","hideLoader","formElem","e","searchText","hits"],"mappings":"+vBAKO,SAASA,EAAiBC,EAAO,CAGtC,OAAOC,EACJ,IAAI,2BAA4B,CAC/B,OAAQ,CACN,IALU,qCAMV,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACP,CAAK,EACA,KAAKE,GACA,CAACA,EAAI,KAAK,MAAQA,EAAI,KAAK,KAAK,SAAW,GAC7CC,EAAS,KAAK,CACZ,QAAS,2EACT,gBAAiB,UACjB,SAAU,WACV,QAAS,GACnB,CAAS,EACM,IAEAD,EAAI,KAAK,IAEnB,EACA,MAAME,IACL,QAAQ,MAAMA,CAAK,EACnBD,EAAS,MAAM,CACb,QAAS,gDACT,gBAAiB,UACjB,SAAU,WACV,QAAS,GACjB,CAAO,EACM,GACR,CACL,CCtCA,MAAME,EAAiB,IAAIC,EAAe,gBAAiB,CACzD,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB,CAAC,EAEKC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/C,SAASC,EAAa,CACpB,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA;AAAA,mBAEUL,CAAa;AAAA,sBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,0DAGUC,CAAK;AAAA,0DACLC,CAAK;AAAA,gEACCC,CAAQ;AAAA,kEACNC,CAAS;AAAA;AAAA,YAG3E,CAEA,SAASC,EAAcC,EAAO,CAC5B,OAAOA,EAAM,IAAIT,CAAY,EAAE,KAAK,EAAE,CACxC,CAEO,SAASU,EAAcD,EAAO,CACnCX,EAAQ,UAAYU,EAAcC,CAAK,EACvCb,EAAe,QAAO,CACxB,CAEO,SAASe,GAAe,CAC7Bb,EAAQ,UAAY,EACtB,CAEO,SAASc,GAAa,CACvBb,IAAQA,EAAO,MAAM,QAAU,QACrC,CAEO,SAASc,GAAa,CACvBd,IAAQA,EAAO,MAAM,QAAU,OACrC,CC3CA,MAAMe,EAAW,SAAS,cAAc,OAAO,EAE/CA,EAAS,iBAAiB,SAAUC,GAAK,CACvCA,EAAE,eAAc,EAChB,MAAMC,EAAaD,EAAE,OAAO,SAAS,aAAa,EAAE,MAAM,OAC1D,GAAI,CAACC,EAAY,CACftB,EAAS,QAAQ,CACf,QAAS,2BACT,gBAAiB,UACjB,SAAU,UAChB,CAAK,EACD,MACD,CAEDiB,IACAC,IAEAtB,EAAiB0B,CAAU,EACxB,KAAKC,GAAQ,CACZP,EAAcO,CAAI,CACxB,CAAK,EACA,MAAMtB,GAAS,CACd,QAAQ,MAAMA,CAAK,EACnBD,EAAS,MAAM,CACb,QAAS,2BACT,gBAAiB,UACjB,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbmB,GACN,CAAK,EAEHE,EAAE,OAAO,OACX,CAAC"}